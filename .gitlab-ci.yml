image: iquiw/alpine-emacs

.build: &build
  script:
  - emacs --batch --load publish.el
  - ls -lR
  artifacts:
    paths:
    - workshops
    - reveal.js

pages:
  <<: *build
  rules:
    - if: $CI_COMMIT_REF_NAME == $CI_DEFAULT_BRANCH

# test:
#   <<: *build
#   rules:
#     - if: $CI_COMMIT_REF_NAME != $CI_DEFAULT_BRANCH
